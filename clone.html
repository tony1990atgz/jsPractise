<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>clone</title>
  </head>
  <body>
    <h1>deep clone</h1>
    <script>
      // 深拷贝1133
      function deepClone(data) {
        if (
          !isObject(
            data)) {
          throw
            new Error("clone object should be an object");
        }
        let clone = Array.isArray(data) ? [] : {};
        for (let key in data) {
          if (data.hasOwnProperty(key)) {
            let temp = data[key];
            if (isObject(temp)) {
              clone[key] = deepClone(temp);
            } else {
              clone[key] = temp;
            }
          }
        }
        return clone;
      }

      function isObject(data) {
        if (typeof data === "object" && data !== null) {
          return true;
        }
        return false;
      }

      var cloneTest1 = deepClone([
        1,
        2,
        3,
        4,
        { a: 1, b: 2, c: [1, 2, 3] },
        [4, 5, 6, { a: 1, b: { q: 1, w: 2, e: 3 } }],
      ]);
      console.log(cloneTest1);
      var cloneTest2 = deepClone({
        aa: { a: 1, b: 2, c: [1, 2, 3] },
        bb: [4, 5, 6, { a: 1, b: { q: 1, w: 2, e: 3 } }],
      });
      console.log(cloneTest2);
      // return error
      // deepClone(123)

      // 浅拷贝
      var arr = [4, 5, 6, 7];
      var arr1 = [...arr];
      console.log(arr1, arr === arr1);

      var obj = { a: 1, b: 2 };
      var obj1 = { ...obj };
      console.log(obj1, obj === obj1);

      var arr2 = Object.assign([], arr);
      console.log(arr2, arr === arr2);

      var obj2 = Object.assign({}, obj);
      console.log(obj2, obj === obj2);
    </script>
  </body>
</html>
